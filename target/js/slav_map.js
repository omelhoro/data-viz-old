// Generated by CoffeeScript 1.7.1
(function() {
  var $;

  $ = jQuery;

  $(function() {
    var SvgView;
    SvgView = (function() {
      function SvgView(data) {
        this.data = data;
        this.HE = 500;
        this.WI = 500;
        this.svg = d3.select("#map").append("svg").attr({
          width: this.WI,
          height: this.HE
        });
        this.draw_map();
      }

      SvgView.prototype.draw_map = function() {
        var path, projection;
        projection = d3.geo.mercator().center([43.46189, 53.503417]).scale([499]);
        path = d3.geo.path().projection(projection);
        this.svg.selectAll("path").data(this.data["features"]).enter().append("path").attr({
          "d": path,
          fill: "white",
          "stroke": "blue"
        });
        console.log(projection([33.46189, 53.503417]), projection([53.503417, 33.46189]));
        return d3.csv("data/slav_map.csv", (function(_this) {
          return function(d) {
            return _this.svg.selectAll("circle").data(d).enter().append("circle").attr({
              title: function(d) {
                return d["place"];
              },
              cx: function(d) {
                var c;
                c = projection([d["lon"], d["lat"]]);
                return c[0];
              },
              cy: function(d) {
                var c;
                c = projection([d["lon"], d["lat"]]);
                return c[1];
              },
              fill: function(d) {
                switch (d["person"]) {
                  case "Dummy":
                    return "blue";
                  default:
                    return "yellow";
                }
              },
              r: 5
            });
          };
        })(this));
      };

      return SvgView;

    })();
    return d3.json("data/world.geojson", function(d) {
      var svg;
      return svg = new SvgView(d);
    });
  });

}).call(this);

//# sourceMappingURL=slav_map.map
