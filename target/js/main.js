// Generated by CoffeeScript 1.7.1
(function() {
  var $, append_map, choices, create_menu, menu, subchoice;

  $ = jQuery;

  choices = [['rhythm', 'Rhythm'], ['vot', "VOT"], ["heat_map", "Cards"], ["formants", "Formants"], ["corpus", "Corpus"]];

  menu = $(".viz_menu");

  append_map = function(target, el) {
    return $.get("target/" + target + ".html", function(d) {
      ($('.nav > li')).each(function(i, e) {
        return ($(e)).removeClass('active');
      });
      if (el != null) {
        el.addClass("active");
      }
      return ($(".viz-map")).html(d);
    });
  };

  create_menu = function(subchoice) {
    var itm, l, lead_to, new_choices, _i, _len, _results;
    lead_to = function(target, el) {
      var lead;
      lead = function(e) {
        return append_map(target, el);
      };
      return lead;
    };
    if (subchoice.length > 1) {
      new_choices = 0;
    }
    _results = [];
    for (_i = 0, _len = choices.length; _i < _len; _i++) {
      itm = choices[_i];
      l = $("<li><a href='#'>" + itm[1] + "</a></li>");
      l.click(lead_to(itm[0], l));
      _results.push(menu.append(l));
    }
    return _results;
  };

  subchoice = parent.viz_choice;

  if (subchoice != null) {
    if (subchoice.length > 1) {
      create_menu(subchoice);
    } else {
      append_map(subchoice[0]);
    }
  } else {
    create_menu([]);
  }

}).call(this);

//# sourceMappingURL=main.map
